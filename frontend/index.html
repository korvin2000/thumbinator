<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImageVault Pro - Image Organizer</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --accent: #22d3ee;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-hover: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
        }
        
        body {
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a1a2e 100%);
            min-height: 100vh;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
        
        /* Thumbnail Grid */
        .thumbnail-grid {
            display: grid;
            gap: 16px;
            padding: 16px;
        }
        
        .thumbnail-card {
            aspect-ratio: 16/9;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        
        .thumbnail-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 40px -10px rgba(99, 102, 241, 0.3);
            z-index: 10;
        }
        
        .thumbnail-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .thumbnail-card:hover img {
            transform: scale(1.1);
        }
        
        .thumbnail-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.3) 50%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .thumbnail-card:hover .thumbnail-overlay {
            opacity: 1;
        }
        
        .thumbnail-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 16px;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .thumbnail-card:hover .thumbnail-info {
            transform: translateY(0);
            opacity: 1;
        }
        
        .thumbnail-label {
            position: absolute;
            top: 8px;
            left: 8px;
            right: 8px;
            display: flex;
            justify-content: space-between;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .thumbnail-card:hover .thumbnail-label {
            opacity: 1;
        }
        
        /* Slide Panel */
        .slide-panel {
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide-panel.open {
            transform: translateX(0);
        }
        
        .detail-panel {
            transform: translateX(-100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .detail-panel.open {
            transform: translateX(0);
        }
        
        /* Custom Checkbox & Radio */
        .custom-checkbox {
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid var(--border);
            border-radius: 4px;
            background: transparent;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .custom-checkbox:checked {
            background: var(--primary);
            border-color: var(--primary);
        }
        
        .custom-checkbox:checked::after {
            content: '✓';
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Tag Pills */
        .tag-pill {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text-secondary);
        }
        
        .tag-pill:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .tag-pill.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        /* Resolution Badge */
        .resolution-badge {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .res-4k { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .res-8k { background: linear-gradient(135deg, #10b981, #059669); }
        .res-hd { background: linear-gradient(135deg, #6366f1, #4f46e5); }
        
        /* Pulse Animation */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
            50% { box-shadow: 0 0 20px 5px rgba(99, 102, 241, 0.2); }
        }
        
        .selected-card {
            animation: pulse-glow 2s infinite;
            border: 2px solid var(--primary);
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
        }
        
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 6px 12px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
        }
        
        .tooltip:hover::after {
            opacity: 1;
        }
        
        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg, var(--bg-card) 25%, var(--bg-hover) 50%, var(--bg-card) 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Range Slider */
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--border);
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        
        /* Meta Info Grid */
        .meta-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .meta-item {
            padding: 12px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        /* Fade animations */
        .fade-in {
            animation: fadeIn 0.3s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Stats counter animation */
        .stat-number {
            font-variant-numeric: tabular-nums;
        }
    </style>
</head>
<body class="text-slate-100">
    <!-- App Container -->
    <div id="app" class="flex h-screen overflow-hidden">
        
        <!-- Left Detail Panel -->
        <aside id="detailPanel" class="detail-panel fixed left-0 top-0 h-full w-96 bg-slate-900/95 backdrop-blur-xl border-r border-slate-700/50 z-40 overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-white">Image Details</h2>
                    <button onclick="closeDetailPanel()" class="p-2 hover:bg-slate-700 rounded-lg transition-colors">
                        <i class="fas fa-times text-slate-400"></i>
                    </button>
                </div>
                <div id="detailContent">
                    <!-- Dynamic content -->
                </div>
            </div>
        </aside>
        
        <!-- Main Content Area -->
        <main id="mainContent" class="flex-1 flex flex-col overflow-hidden transition-all duration-300">
            <!-- Header -->
            <header class="flex-shrink-0 bg-slate-900/80 backdrop-blur-xl border-b border-slate-700/50 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                                <i class="fas fa-images text-white"></i>
                            </div>
                            <div>
                                <h1 class="text-xl font-bold text-white">ImageVault Pro</h1>
                                <p class="text-xs text-slate-400">Professional Image Organizer</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-4">
                        <!-- Quick Stats -->
                        <div class="hidden md:flex items-center gap-6 px-6 py-2 bg-slate-800/50 rounded-xl">
                            <div class="text-center">
                                <p class="text-2xl font-bold text-white stat-number" id="totalImages">0</p>
                                <p class="text-xs text-slate-400">Total</p>
                            </div>
                            <div class="w-px h-8 bg-slate-700"></div>
                            <div class="text-center">
                                <p class="text-2xl font-bold text-indigo-400 stat-number" id="filteredImages">0</p>
                                <p class="text-xs text-slate-400">Showing</p>
                            </div>
                            <div class="w-px h-8 bg-slate-700"></div>
                            <div class="text-center">
                                <p class="text-2xl font-bold text-emerald-400 stat-number" id="selectedCount">0</p>
                                <p class="text-xs text-slate-400">Selected</p>
                            </div>
                        </div>
                        
                        <!-- Grid Size Control -->
                        <div class="flex items-center gap-2 px-3 py-2 bg-slate-800/50 rounded-xl">
                            <i class="fas fa-th text-slate-400 text-sm"></i>
                            <input type="range" id="gridSizeSlider" min="2" max="6" value="4" class="w-20" title="Images per row">
                            <span id="gridSizeValue" class="text-sm text-slate-300 w-6 text-center">4</span>
                        </div>
                        
                        <!-- View Toggle -->
                        <div class="flex items-center bg-slate-800/50 rounded-xl p-1">
                            <button id="gridViewBtn" onclick="setView('grid')" class="p-2 rounded-lg bg-indigo-600 text-white transition-colors">
                                <i class="fas fa-th-large"></i>
                            </button>
                            <button id="listViewBtn" onclick="setView('list')" class="p-2 rounded-lg text-slate-400 hover:text-white transition-colors">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                        
                        <!-- Filter Panel Toggle -->
                        <button id="filterToggle" onclick="toggleFilterPanel()" class="flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl transition-colors">
                            <i class="fas fa-sliders-h"></i>
                            <span class="hidden sm:inline">Filters</span>
                            <span id="activeFiltersCount" class="hidden w-5 h-5 bg-amber-500 rounded-full text-xs flex items-center justify-center">0</span>
                        </button>
                    </div>
                </div>
            </header>
            
            <!-- Toolbar -->
            <div class="flex-shrink-0 px-6 py-3 bg-slate-800/30 border-b border-slate-700/30 flex items-center justify-between gap-4 flex-wrap">
                <!-- Quick Search -->
                <div class="relative flex-1 max-w-md">
                    <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
                    <input type="text" id="quickSearch" placeholder="Quick search images..." 
                        class="w-full pl-11 pr-4 py-2.5 bg-slate-800/80 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all">
                    <kbd class="absolute right-3 top-1/2 -translate-y-1/2 px-2 py-1 bg-slate-700 rounded text-xs text-slate-400">/</kbd>
                </div>
                
                <!-- Sort & Actions -->
                <div class="flex items-center gap-3">
                    <select id="sortSelect" class="px-4 py-2.5 bg-slate-800/80 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-indigo-500 cursor-pointer">
                        <option value="newest">Newest First</option>
                        <option value="oldest">Oldest First</option>
                        <option value="largest">Largest First</option>
                        <option value="smallest">Smallest First</option>
                        <option value="name-asc">Name A-Z</option>
                        <option value="name-desc">Name Z-A</option>
                        <option value="resolution">Highest Resolution</option>
                    </select>
                    
                    <button onclick="selectAll()" class="px-4 py-2.5 bg-slate-800/80 border border-slate-700 rounded-xl text-slate-300 hover:bg-slate-700 transition-colors">
                        <i class="fas fa-check-double mr-2"></i>Select All
                    </button>
                    
                    <button onclick="clearSelection()" class="px-4 py-2.5 bg-slate-800/80 border border-slate-700 rounded-xl text-slate-300 hover:bg-slate-700 transition-colors">
                        <i class="fas fa-times mr-2"></i>Clear
                    </button>
                </div>
            </div>
            
            <!-- Active Filters Display -->
            <div id="activeFiltersBar" class="hidden px-6 py-2 bg-indigo-900/20 border-b border-indigo-500/20">
                <div class="flex items-center gap-2 flex-wrap">
                    <span class="text-sm text-indigo-300"><i class="fas fa-filter mr-1"></i>Active filters:</span>
                    <div id="activeFiltersList" class="flex items-center gap-2 flex-wrap">
                        <!-- Dynamic filter tags -->
                    </div>
                    <button onclick="clearAllFilters()" class="ml-auto text-sm text-indigo-400 hover:text-indigo-300">
                        Clear all filters
                    </button>
                </div>
            </div>
            
            <!-- Image Grid -->
            <div id="imageContainer" class="flex-1 overflow-y-auto p-4">
                <div id="imageGrid" class="thumbnail-grid" style="grid-template-columns: repeat(4, 1fr);">
                    <!-- Dynamic content -->
                </div>
                
                <!-- Empty State -->
                <div id="emptyState" class="hidden flex-col items-center justify-center h-full text-center py-20">
                    <div class="w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-search text-4xl text-slate-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-300 mb-2">No images found</h3>
                    <p class="text-slate-500 max-w-md">Try adjusting your search or filter criteria to find what you're looking for.</p>
                    <button onclick="clearAllFilters()" class="mt-6 px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 rounded-xl transition-colors">
                        Clear all filters
                    </button>
                </div>
            </div>
            
            <!-- Footer -->
            <footer class="flex-shrink-0 px-6 py-3 bg-slate-900/80 border-t border-slate-700/50 flex items-center justify-between">
                <p class="text-sm text-slate-400">
                    <span id="footerStats">Showing 0 of 0 images</span>
                </p>
                <div class="flex items-center gap-4">
                    <span class="text-sm text-slate-500">ImageVault Pro v1.0</span>
                </div>
            </footer>
        </main>
        
        <!-- Right Filter Panel -->
        <aside id="filterPanel" class="slide-panel fixed right-0 top-0 h-full w-80 lg:w-96 bg-slate-900/95 backdrop-blur-xl border-l border-slate-700/50 z-40 overflow-y-auto">
            <div class="p-6">
                <!-- Panel Header -->
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-white">
                        <i class="fas fa-filter mr-2 text-indigo-400"></i>Filters & Search
                    </h2>
                    <button onclick="toggleFilterPanel()" class="p-2 hover:bg-slate-700 rounded-lg transition-colors">
                        <i class="fas fa-times text-slate-400"></i>
                    </button>
                </div>
                
                <!-- Live Search -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-2">
                        <i class="fas fa-search mr-2 text-slate-400"></i>Live Search
                    </label>
                    <input type="text" id="filterSearch" placeholder="Search by name, description..." 
                        class="w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all">
                </div>
                
                <!-- Color Filter -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-palette mr-2 text-slate-400"></i>Color Mode
                    </label>
                    <div class="flex gap-2">
                        <button data-color="all" onclick="setColorFilter('all')" class="color-filter-btn flex-1 px-4 py-2.5 bg-indigo-600 border border-indigo-500 rounded-xl text-white transition-all">
                            All
                        </button>
                        <button data-color="color" onclick="setColorFilter('color')" class="color-filter-btn flex-1 px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-xl text-slate-300 hover:border-indigo-500 transition-all">
                            <i class="fas fa-circle text-xs mr-1" style="background: linear-gradient(45deg, red, blue); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
                            Color
                        </button>
                        <button data-color="bw" onclick="setColorFilter('bw')" class="color-filter-btn flex-1 px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-xl text-slate-300 hover:border-indigo-500 transition-all">
                            <i class="fas fa-adjust mr-1"></i>B&W
                        </button>
                    </div>
                </div>
                
                <!-- Resolution Filter -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-expand mr-2 text-slate-400"></i>Minimum Resolution
                    </label>
                    <div class="space-y-2">
                        <input type="range" id="resolutionSlider" min="0" max="4" value="0" class="w-full">
                        <div class="flex justify-between text-xs text-slate-500">
                            <span>Any</span>
                            <span>HD</span>
                            <span>FHD</span>
                            <span>4K</span>
                            <span>8K</span>
                        </div>
                        <p class="text-sm text-indigo-400" id="resolutionLabel">Any resolution</p>
                    </div>
                </div>
                
                <!-- File Size Filter -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-weight-hanging mr-2 text-slate-400"></i>File Size Range
                    </label>
                    <div class="flex items-center gap-3">
                        <input type="number" id="minSize" placeholder="Min MB" 
                            class="flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-200 text-sm focus:outline-none focus:border-indigo-500">
                        <span class="text-slate-500">—</span>
                        <input type="number" id="maxSize" placeholder="Max MB" 
                            class="flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-200 text-sm focus:outline-none focus:border-indigo-500">
                    </div>
                </div>
                
                <!-- Category Filter -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-folder mr-2 text-slate-400"></i>Categories
                    </label>
                    <div id="categoryFilters" class="space-y-2">
                        <!-- Dynamic categories -->
                    </div>
                </div>
                
                <!-- Tags Filter -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-tags mr-2 text-slate-400"></i>Tags
                        <span class="text-xs text-slate-500 ml-2">(select multiple)</span>
                    </label>
                    <div id="tagFilters" class="flex flex-wrap gap-2">
                        <!-- Dynamic tags -->
                    </div>
                </div>
                
                <!-- Date Range -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-calendar mr-2 text-slate-400"></i>Date Range
                    </label>
                    <div class="space-y-2">
                        <input type="date" id="dateFrom" 
                            class="w-full px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-indigo-500">
                        <input type="date" id="dateTo" 
                            class="w-full px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-indigo-500">
                    </div>
                </div>
                
                <!-- Aspect Ratio Filter -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-300 mb-3">
                        <i class="fas fa-crop mr-2 text-slate-400"></i>Aspect Ratio
                    </label>
                    <select id="aspectRatio" class="w-full px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-xl text-slate-200 focus:outline-none focus:border-indigo-500">
                        <option value="all">All Ratios</option>
                        <option value="16:9">16:9 (Widescreen)</option>
                        <option value="4:3">4:3 (Standard)</option>
                        <option value="1:1">1:1 (Square)</option>
                        <option value="3:2">3:2 (Classic)</option>
                        <option value="21:9">21:9 (Ultrawide)</option>
                    </select>
                </div>
                
                <!-- Action Buttons -->
                <div class="flex gap-3 pt-4 border-t border-slate-700">
                    <button onclick="applyFilters()" class="flex-1 px-4 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-xl font-medium transition-colors">
                        <i class="fas fa-check mr-2"></i>Apply Filters
                    </button>
                    <button onclick="clearAllFilters()" class="px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl transition-colors">
                        <i class="fas fa-undo"></i>
                    </button>
                </div>
            </div>
        </aside>
        
        <!-- Overlay -->
        <div id="overlay" onclick="closePanels()" class="fixed inset-0 bg-black/50 z-30 hidden"></div>
    </div>

    <script>
        // ==========================================
        // DATA LAYER - Mock Data Generation
        // ==========================================
        
        const categories = ['Nature', 'Architecture', 'Portrait', 'Street', 'Abstract', 'Wildlife', 'Landscape', 'Urban', 'Travel', 'Food'];
        const allTags = ['sunset', 'mountains', 'ocean', 'forest', 'city', 'night', 'golden-hour', 'minimalist', 'vintage', 'modern', 'dramatic', 'peaceful', 'vibrant', 'moody', 'aerial', 'macro', 'long-exposure', 'hdr', 'panorama', 'wildlife'];
        const cameras = ['Canon EOS R5', 'Sony A7R IV', 'Nikon Z7 II', 'Fujifilm GFX 100S', 'Leica M11', 'Hasselblad X2D'];
        const locations = ['Iceland', 'Japan', 'New Zealand', 'Norway', 'Switzerland', 'Italy', 'USA', 'Canada', 'Australia', 'Morocco'];
        
        const resolutions = [
            { label: 'HD', width: 1280, height: 720 },
            { label: 'FHD', width: 1920, height: 1080 },
            { label: '2K', width: 2560, height: 1440 },
            { label: '4K', width: 3840, height: 2160 },
            { label: '6K', width: 6016, height: 3384 },
            { label: '8K', width: 7680, height: 4320 }
        ];
        
        function generateMockImages(count = 48) {
            const images = [];
            const now = new Date();
            
            for (let i = 1; i <= count; i++) {
                const res = resolutions[Math.floor(Math.random() * resolutions.length)];
                const isColor = Math.random() > 0.2;
                const category = categories[Math.floor(Math.random() * categories.length)];
                const imageTags = allTags.sort(() => 0.5 - Math.random()).slice(0, Math.floor(Math.random() * 5) + 2);
                const daysAgo = Math.floor(Math.random() * 365);
                const fileSize = Math.random() * 50 + 1; // 1-50 MB
                
                images.push({
                    id: i,
                    name: `IMG_${String(i).padStart(4, '0')}_${category.toLowerCase()}.jpg`,
                    thumbnail: `https://picsum.photos/seed/${i}/640/360`,
                    fullImage: `https://picsum.photos/seed/${i}/${res.width}/${res.height}`,
                    width: res.width,
                    height: res.height,
                    resolutionLabel: res.label,
                    fileSize: fileSize,
                    fileSizeFormatted: fileSize.toFixed(1) + ' MB',
                    dateCreated: new Date(now - daysAgo * 24 * 60 * 60 * 1000),
                    dateModified: new Date(now - (daysAgo - Math.floor(Math.random() * 30)) * 24 * 60 * 60 * 1000),
                    category: category,
                    tags: imageTags,
                    isColor: isColor,
                    camera: cameras[Math.floor(Math.random() * cameras.length)],
                    aperture: `f/${(Math.random() * 14 + 1.4).toFixed(1)}`,
                    iso: [100, 200, 400, 800, 1600, 3200][Math.floor(Math.random() * 6)],
                    exposureTime: ['1/30', '1/60', '1/125', '1/250', '1/500', '1/1000'][Math.floor(Math.random() * 6)] + 's',
                    focalLength: `${Math.floor(Math.random() * 180 + 20)}mm`,
                    location: locations[Math.floor(Math.random() * locations.length)],
                    description: `Beautiful ${category.toLowerCase()} photograph captured with ${cameras[Math.floor(Math.random() * cameras.length)]} in ${locations[Math.floor(Math.random() * locations.length)]}.`,
                    selected: false
                });
            }
            
            return images;
        }
        
        // ==========================================
        // APPLICATION STATE
        // ==========================================
        
        const state = {
            images: generateMockImages(60),
            filteredImages: [],
            selectedImages: new Set(),
            currentView: 'grid',
            gridSize: 4,
            filters: {
                search: '',
                colorMode: 'all',
                minResolution: 0,
                minSize: null,
                maxSize: null,
                categories: new Set(),
                tags: new Set(),
                dateFrom: null,
                dateTo: null,
                aspectRatio: 'all'
            },
            sortBy: 'newest',
            filterPanelOpen: false,
            detailPanelOpen: false,
            selectedImageForDetail: null
        };
        
        // ==========================================
        // UTILITY FUNCTIONS
        // ==========================================
        
        function formatDate(date) {
            return new Intl.DateTimeFormat('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            }).format(date);
        }
        
        function formatDateTime(date) {
            return new Intl.DateTimeFormat('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            }).format(date);
        }
        
        function getResolutionClass(label) {
            if (label === '8K' || label === '6K') return 'res-8k';
            if (label === '4K') return 'res-4k';
            return 'res-hd';
        }
        
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // ==========================================
        // FILTER & SORT LOGIC
        // ==========================================
        
        function applyFiltersAndSort() {
            let filtered = [...state.images];
            
            // Search filter
            if (state.filters.search) {
                const searchLower = state.filters.search.toLowerCase();
                filtered = filtered.filter(img => 
                    img.name.toLowerCase().includes(searchLower) ||
                    img.description.toLowerCase().includes(searchLower) ||
                    img.category.toLowerCase().includes(searchLower) ||
                    img.tags.some(tag => tag.toLowerCase().includes(searchLower)) ||
                    img.location.toLowerCase().includes(searchLower)
                );
            }
            
            // Color mode filter
            if (state.filters.colorMode === 'color') {
                filtered = filtered.filter(img => img.isColor);
            } else if (state.filters.colorMode === 'bw') {
                filtered = filtered.filter(img => !img.isColor);
            }
            
            // Resolution filter
            const resolutionThresholds = [0, 1280*720, 1920*1080, 3840*2160, 7680*4320];
            if (state.filters.minResolution > 0) {
                const minPixels = resolutionThresholds[state.filters.minResolution];
                filtered = filtered.filter(img => img.width * img.height >= minPixels);
            }
            
            // File size filter
            if (state.filters.minSize !== null) {
                filtered = filtered.filter(img => img.fileSize >= state.filters.minSize);
            }
            if (state.filters.maxSize !== null) {
                filtered = filtered.filter(img => img.fileSize <= state.filters.maxSize);
            }
            
            // Category filter
            if (state.filters.categories.size > 0) {
                filtered = filtered.filter(img => state.filters.categories.has(img.category));
            }
            
            // Tags filter
            if (state.filters.tags.size > 0) {
                filtered = filtered.filter(img => 
                    [...state.filters.tags].some(tag => img.tags.includes(tag))
                );
            }
            
            // Date range filter
            if (state.filters.dateFrom) {
                const fromDate = new Date(state.filters.dateFrom);
                filtered = filtered.filter(img => img.dateCreated >= fromDate);
            }
            if (state.filters.dateTo) {
                const toDate = new Date(state.filters.dateTo);
                toDate.setHours(23, 59, 59);
                filtered = filtered.filter(img => img.dateCreated <= toDate);
            }
            
            // Aspect ratio filter
            if (state.filters.aspectRatio !== 'all') {
                const ratios = {
                    '16:9': 16/9,
                    '4:3': 4/3,
                    '1:1': 1,
                    '3:2': 3/2,
                    '21:9': 21/9
                };
                const targetRatio = ratios[state.filters.aspectRatio];
                filtered = filtered.filter(img => {
                    const imgRatio = img.width / img.height;
                    return Math.abs(imgRatio - targetRatio) < 0.1;
                });
            }
            
            // Sorting
            switch (state.sortBy) {
                case 'newest':
                    filtered.sort((a, b) => b.dateCreated - a.dateCreated);
                    break;
                case 'oldest':
                    filtered.sort((a, b) => a.dateCreated - b.dateCreated);
                    break;
                case 'largest':
                    filtered.sort((a, b) => b.fileSize - a.fileSize);
                    break;
                case 'smallest':
                    filtered.sort((a, b) => a.fileSize - b.fileSize);
                    break;
                case 'name-asc':
                    filtered.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'name-desc':
                    filtered.sort((a, b) => b.name.localeCompare(a.name));
                    break;
                case 'resolution':
                    filtered.sort((a, b) => (b.width * b.height) - (a.width * a.height));
                    break;
            }
            
            state.filteredImages = filtered;
            renderImages();
            updateStats();
            updateActiveFiltersBar();
        }
        
        // ==========================================
        // RENDERING FUNCTIONS
        // ==========================================
        
        function renderImages() {
            const grid = document.getElementById('imageGrid');
            const emptyState = document.getElementById('emptyState');
            
            if (state.filteredImages.length === 0) {
                grid.innerHTML = '';
                emptyState.classList.remove('hidden');
                emptyState.classList.add('flex');
                return;
            }
            
            emptyState.classList.add('hidden');
            emptyState.classList.remove('flex');
            
            grid.innerHTML = state.filteredImages.map((img, index) => `
                <div class="thumbnail-card fade-in ${state.selectedImages.has(img.id) ? 'selected-card' : ''}" 
                     data-id="${img.id}"
                     style="animation-delay: ${index * 30}ms"
                     onclick="toggleSelection(${img.id}, event)"
                     onmouseenter="showHoverInfo(${img.id})"
                     ondblclick="openDetailPanel(${img.id})">
                    
                    <img src="${img.thumbnail}" alt="${img.name}" loading="lazy">
                    
                    <div class="thumbnail-overlay"></div>
                    
                    <!-- Top Labels -->
                    <div class="thumbnail-label">
                        <span class="resolution-badge ${getResolutionClass(img.resolutionLabel)}">${img.resolutionLabel}</span>
                        <span class="px-2 py-1 bg-black/60 rounded text-xs text-white">
                            ${img.fileSizeFormatted}
                        </span>
                    </div>
                    
                    <!-- Selection Checkbox -->
                    <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
                        <div class="w-6 h-6 rounded-full ${state.selectedImages.has(img.id) ? 'bg-indigo-500' : 'bg-black/50 border border-white/30'} flex items-center justify-center">
                            ${state.selectedImages.has(img.id) ? '<i class="fas fa-check text-white text-xs"></i>' : ''}
                        </div>
                    </div>
                    
                    <!-- Color/BW indicator -->
                    <div class="absolute top-2 left-1/2 -translate-x-1/2 opacity-0 transition-opacity" style="opacity: ${!img.isColor ? '0.8' : '0'}">
                        <span class="px-2 py-1 bg-black/60 rounded text-xs text-white">
                            <i class="fas fa-adjust mr-1"></i>B&W
                        </span>
                    </div>
                    
                    <!-- Bottom Info -->
                    <div class="thumbnail-info">
                        <p class="text-white font-medium truncate text-sm mb-1">${img.name}</p>
                        <div class="flex items-center justify-between text-xs text-slate-300">
                            <span>${img.width} × ${img.height}</span>
                            <span>${formatDate(img.dateCreated)}</span>
                        </div>
                        <div class="flex items-center gap-2 mt-2">
                            <span class="px-2 py-0.5 bg-indigo-500/30 rounded text-xs text-indigo-300">${img.category}</span>
                            <span class="text-xs text-slate-400"><i class="fas fa-map-marker-alt mr-1"></i>${img.location}</span>
                        </div>
                        <button onclick="event.stopPropagation(); openDetailPanel(${img.id})" 
                                class="mt-3 w-full py-2 bg-white/10 hover:bg-white/20 rounded-lg text-xs text-white backdrop-blur transition-colors">
                            <i class="fas fa-info-circle mr-1"></i>View Details
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function renderFilterControls() {
            // Categories
            const categoryContainer = document.getElementById('categoryFilters');
            categoryContainer.innerHTML = categories.map(cat => `
                <label class="flex items-center gap-3 cursor-pointer group">
                    <input type="checkbox" class="custom-checkbox" 
                           ${state.filters.categories.has(cat) ? 'checked' : ''}
                           onchange="toggleCategory('${cat}')">
                    <span class="text-sm text-slate-300 group-hover:text-white transition-colors">${cat}</span>
                    <span class="ml-auto text-xs text-slate-500">${state.images.filter(i => i.category === cat).length}</span>
                </label>
            `).join('');
            
            // Tags
            const tagContainer = document.getElementById('tagFilters');
            tagContainer.innerHTML = allTags.map(tag => `
                <button onclick="toggleTag('${tag}')" 
                        class="tag-pill ${state.filters.tags.has(tag) ? 'active' : ''}">
                    ${tag}
                </button>
            `).join('');
        }
        
        function updateStats() {
            document.getElementById('totalImages').textContent = state.images.length;
            document.getElementById('filteredImages').textContent = state.filteredImages.length;
            document.getElementById('selectedCount').textContent = state.selectedImages.size;
            document.getElementById('footerStats').textContent = 
                `Showing ${state.filteredImages.length} of ${state.images.length} images`;
        }
        
        function updateActiveFiltersBar() {
            const bar = document.getElementById('activeFiltersBar');
            const list = document.getElementById('activeFiltersList');
            const countBadge = document.getElementById('activeFiltersCount');
            
            const activeFilters = [];
            
            if (state.filters.search) {
                activeFilters.push({ type: 'search', label: `Search: "${state.filters.search}"` });
            }
            if (state.filters.colorMode !== 'all') {
                activeFilters.push({ type: 'color', label: state.filters.colorMode === 'color' ? 'Color Only' : 'B&W Only' });
            }
            if (state.filters.minResolution > 0) {
                const labels = ['Any', 'HD+', 'FHD+', '4K+', '8K+'];
                activeFilters.push({ type: 'resolution', label: `Min: ${labels[state.filters.minResolution]}` });
            }
            if (state.filters.categories.size > 0) {
                activeFilters.push({ type: 'categories', label: `Categories: ${[...state.filters.categories].join(', ')}` });
            }
            if (state.filters.tags.size > 0) {
                activeFilters.push({ type: 'tags', label: `Tags: ${[...state.filters.tags].join(', ')}` });
            }
            if (state.filters.dateFrom || state.filters.dateTo) {
                activeFilters.push({ type: 'date', label: 'Date range active' });
            }
            if (state.filters.aspectRatio !== 'all') {
                activeFilters.push({ type: 'aspect', label: `Ratio: ${state.filters.aspectRatio}` });
            }
            
            if (activeFilters.length > 0) {
                bar.classList.remove('hidden');
                countBadge.classList.remove('hidden');
                countBadge.classList.add('flex');
                countBadge.textContent = activeFilters.length;
                
                list.innerHTML = activeFilters.map(f => `
                    <span class="inline-flex items-center gap-1 px-3 py-1 bg-indigo-600/30 border border-indigo-500/50 rounded-full text-xs text-indigo-200">
                        ${f.label}
                        <button onclick="removeFilter('${f.type}')" class="ml-1 hover:text-white">
                            <i class="fas fa-times"></i>
                        </button>
                    </span>
                `).join('');
            } else {
                bar.classList.add('hidden');
                countBadge.classList.add('hidden');
                countBadge.classList.remove('flex');
            }
        }
        
        // ==========================================
        // EVENT HANDLERS
        // ==========================================
        
        function toggleFilterPanel() {
            state.filterPanelOpen = !state.filterPanelOpen;
            const panel = document.getElementById('filterPanel');
            const overlay = document.getElementById('overlay');
            
            if (state.filterPanelOpen) {
                panel.classList.add('open');
                overlay.classList.remove('hidden');
            } else {
                panel.classList.remove('open');
                if (!state.detailPanelOpen) {
                    overlay.classList.add('hidden');
                }
            }
        }
        
        function openDetailPanel(imageId) {
            state.selectedImageForDetail = state.images.find(i => i.id === imageId);
            if (!state.selectedImageForDetail) return;
            
            state.detailPanelOpen = true;
            const panel = document.getElementById('detailPanel');
            const overlay = document.getElementById('overlay');
            
            panel.classList.add('open');
            overlay.classList.remove('hidden');
            
            renderDetailContent();
        }
        
        function closeDetailPanel() {
            state.detailPanelOpen = false;
            const panel = document.getElementById('detailPanel');
            const overlay = document.getElementById('overlay');
            
            panel.classList.remove('open');
            if (!state.filterPanelOpen) {
                overlay.classList.add('hidden');
            }
        }
        
        function renderDetailContent() {
            const img = state.selectedImageForDetail;
            if (!img) return;
            
            const content = document.getElementById('detailContent');
            content.innerHTML = `
                <div class="space-y-6">
                    <!-- Preview Image -->
                    <div class="relative rounded-xl overflow-hidden aspect-video bg-slate-800">
                        <img src="${img.thumbnail}" alt="${img.name}" class="w-full h-full object-cover">
                        <div class="absolute bottom-2 right-2 flex gap-2">
                            <span class="resolution-badge ${getResolutionClass(img.resolutionLabel)}">${img.resolutionLabel}</span>
                            ${!img.isColor ? '<span class="px-2 py-1 bg-slate-700 rounded text-xs text-white"><i class="fas fa-adjust mr-1"></i>B&W</span>' : ''}
                        </div>
                    </div>
                    
                    <!-- Basic Info -->
                    <div>
                        <h3 class="text-lg font-semibold text-white mb-2">${img.name}</h3>
                        <p class="text-sm text-slate-400">${img.description}</p>
                    </div>
                    
                    <!-- Meta Grid -->
                    <div class="meta-grid">
                        <div class="meta-item">
                            <p class="text-xs text-slate-500 mb-1">Dimensions</p>
                            <p class="text-sm text-white">${img.width} × ${img.height}</p>
                        </div>
                        <div class="meta-item">
                            <p class="text-xs text-slate-500 mb-1">File Size</p>
                            <p class="text-sm text-white">${img.fileSizeFormatted}</p>
                        </div>
                        <div class="meta-item">
                            <p class="text-xs text-slate-500 mb-1">Created</p>
                            <p class="text-sm text-white">${formatDateTime(img.dateCreated)}</p>
                        </div>
                        <div class="meta-item">
                            <p class="text-xs text-slate-500 mb-1">Modified</p>
                            <p class="text-sm text-white">${formatDateTime(img.dateModified)}</p>
                        </div>
                    </div>
                    
                    <!-- Camera Info -->
                    <div class="p-4 bg-slate-800/50 rounded-xl border border-slate-700">
                        <h4 class="text-sm font-medium text-white mb-3">
                            <i class="fas fa-camera mr-2 text-indigo-400"></i>Camera Info
                        </h4>
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div>
                                <p class="text-xs text-slate-500">Camera</p>
                                <p class="text-slate-200">${img.camera}</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">Aperture</p>
                                <p class="text-slate-200">${img.aperture}</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">ISO</p>
                                <p class="text-slate-200">${img.iso}</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">Exposure</p>
                                <p class="text-slate-200">${img.exposureTime}</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">Focal Length</p>
                                <p class="text-slate-200">${img.focalLength}</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">Location</p>
                                <p class="text-slate-200"><i class="fas fa-map-marker-alt mr-1 text-red-400"></i>${img.location}</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Category & Tags -->
                    <div>
                        <h4 class="text-sm font-medium text-white mb-3">
                            <i class="fas fa-tags mr-2 text-indigo-400"></i>Category & Tags
                        </h4>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1.5 bg-indigo-600 rounded-full text-xs text-white font-medium">
                                ${img.category}
                            </span>
                            ${img.tags.map(tag => `
                                <span class="px-3 py-1.5 bg-slate-700 rounded-full text-xs text-slate-300">
                                    #${tag}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- Actions -->
                    <div class="flex gap-3 pt-4 border-t border-slate-700">
                        <button class="flex-1 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-xl font-medium transition-colors">
                            <i class="fas fa-download mr-2"></i>Download
                        </button>
                        <button class="py-3 px-4 bg-slate-700 hover:bg-slate-600 rounded-xl transition-colors">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <button class="py-3 px-4 bg-slate-700 hover:bg-slate-600 rounded-xl transition-colors">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="py-3 px-4 bg-red-600/20 hover:bg-red-600/40 text-red-400 rounded-xl transition-colors">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
        }
        
        function closePanels() {
            if (state.filterPanelOpen) toggleFilterPanel();
            if (state.detailPanelOpen) closeDetailPanel();
        }
        
        function setView(view) {
            state.currentView = view;
            const gridBtn = document.getElementById('gridViewBtn');
            const listBtn = document.getElementById('listViewBtn');
            
            if (view === 'grid') {
                gridBtn.classList.add('bg-indigo-600', 'text-white');
                gridBtn.classList.remove('text-slate-400');
                listBtn.classList.remove('bg-indigo-600', 'text-white');
                listBtn.classList.add('text-slate-400');
            } else {
                listBtn.classList.add('bg-indigo-600', 'text-white');
                listBtn.classList.remove('text-slate-400');
                gridBtn.classList.remove('bg-indigo-600', 'text-white');
                gridBtn.classList.add('text-slate-400');
            }
            
            renderImages();
        }
        
        function setGridSize(size) {
            state.gridSize = size;
            const grid = document.getElementById('imageGrid');
            grid.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
            document.getElementById('gridSizeValue').textContent = size;
        }
        
        function setColorFilter(mode) {
            state.filters.colorMode = mode;
            document.querySelectorAll('.color-filter-btn').forEach(btn => {
                if (btn.dataset.color === mode) {
                    btn.classList.add('bg-indigo-600', 'border-indigo-500');
                    btn.classList.remove('bg-slate-800', 'border-slate-700');
                } else {
                    btn.classList.remove('bg-indigo-600', 'border-indigo-500');
                    btn.classList.add('bg-slate-800', 'border-slate-700');
                }
            });
            applyFiltersAndSort();
        }
        
        function toggleCategory(category) {
            if (state.filters.categories.has(category)) {
                state.filters.categories.delete(category);
            } else {
                state.filters.categories.add(category);
            }
            applyFiltersAndSort();
        }
        
        function toggleTag(tag) {
            if (state.filters.tags.has(tag)) {
                state.filters.tags.delete(tag);
            } else {
                state.filters.tags.add(tag);
            }
            renderFilterControls();
            applyFiltersAndSort();
        }
        
        function toggleSelection(imageId, event) {
            if (event.target.closest('button')) return;
            
            if (state.selectedImages.has(imageId)) {
                state.selectedImages.delete(imageId);
            } else {
                state.selectedImages.add(imageId);
            }
            renderImages();
            updateStats();
        }
        
        function selectAll() {
            state.filteredImages.forEach(img => state.selectedImages.add(img.id));
            renderImages();
            updateStats();
        }
        
        function clearSelection() {
            state.selectedImages.clear();
            renderImages();
            updateStats();
        }
        
        function applyFilters() {
            state.filters.minSize = document.getElementById('minSize').value ? 
                parseFloat(document.getElementById('minSize').value) : null;
            state.filters.maxSize = document.getElementById('maxSize').value ? 
                parseFloat(document.getElementById('maxSize').value) : null;
            state.filters.dateFrom = document.getElementById('dateFrom').value || null;
            state.filters.dateTo = document.getElementById('dateTo').value || null;
            state.filters.aspectRatio = document.getElementById('aspectRatio').value;
            
            applyFiltersAndSort();
        }
        
        function clearAllFilters() {
            state.filters = {
                search: '',
                colorMode: 'all',
                minResolution: 0,
                minSize: null,
                maxSize: null,
                categories: new Set(),
                tags: new Set(),
                dateFrom: null,
                dateTo: null,
                aspectRatio: 'all'
            };
            
            // Reset UI
            document.getElementById('quickSearch').value = '';
            document.getElementById('filterSearch').value = '';
            document.getElementById('resolutionSlider').value = 0;
            document.getElementById('minSize').value = '';
            document.getElementById('maxSize').value = '';
            document.getElementById('dateFrom').value = '';
            document.getElementById('dateTo').value = '';
            document.getElementById('aspectRatio').value = 'all';
            document.getElementById('resolutionLabel').textContent = 'Any resolution';
            
            setColorFilter('all');
            renderFilterControls();
            applyFiltersAndSort();
        }
        
        function removeFilter(type) {
            switch(type) {
                case 'search':
                    state.filters.search = '';
                    document.getElementById('quickSearch').value = '';
                    document.getElementById('filterSearch').value = '';
                    break;
                case 'color':
                    setColorFilter('all');
                    break;
                case 'resolution':
                    state.filters.minResolution = 0;
                    document.getElementById('resolutionSlider').value = 0;
                    document.getElementById('resolutionLabel').textContent = 'Any resolution';
                    break;
                case 'categories':
                    state.filters.categories.clear();
                    renderFilterControls();
                    break;
                case 'tags':
                    state.filters.tags.clear();
                    renderFilterControls();
                    break;
                case 'date':
                    state.filters.dateFrom = null;
                    state.filters.dateTo = null;
                    document.getElementById('dateFrom').value = '';
                    document.getElementById('dateTo').value = '';
                    break;
                case 'aspect':
                    state.filters.aspectRatio = 'all';
                    document.getElementById('aspectRatio').value = 'all';
                    break;
            }
            applyFiltersAndSort();
        }
        
        function showHoverInfo(imageId) {
            // Could be used for additional hover effects
        }
        
        // ==========================================
        // INITIALIZATION
        // ==========================================
        
        function init() {
            // Set initial filtered images
            state.filteredImages = [...state.images];
            
            // Render controls
            renderFilterControls();
            renderImages();
            updateStats();
            
            // Event Listeners
            const quickSearch = document.getElementById('quickSearch');
            const filterSearch = document.getElementById('filterSearch');
            const sortSelect = document.getElementById('sortSelect');
            const gridSizeSlider = document.getElementById('gridSizeSlider');
            const resolutionSlider = document.getElementById('resolutionSlider');
            
            const debouncedSearch = debounce((value) => {
                state.filters.search = value;
                applyFiltersAndSort();
            }, 300);
            
            quickSearch.addEventListener('input', (e) => {
                filterSearch.value = e.target.value;
                debouncedSearch(e.target.value);
            });
            
            filterSearch.addEventListener('input', (e) => {
                quickSearch.value = e.target.value;
                debouncedSearch(e.target.value);
            });
            
            sortSelect.addEventListener('change', (e) => {
                state.sortBy = e.target.value;
                applyFiltersAndSort();
            });
            
            gridSizeSlider.addEventListener('input', (e) => {
                setGridSize(parseInt(e.target.value));
            });
            
            resolutionSlider.addEventListener('input', (e) => {
                const value = parseInt(e.target.value);
                state.filters.minResolution = value;
                const labels = ['Any resolution', 'HD (720p) or higher', 'Full HD (1080p) or higher', '4K (2160p) or higher', '8K (4320p) or higher'];
                document.getElementById('resolutionLabel').textContent = labels[value];
                applyFiltersAndSort();
            });
            
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.key === '/' && document.activeElement.tagName !== 'INPUT') {
                    e.preventDefault();
                    quickSearch.focus();
                }
                if (e.key === 'Escape') {
                    closePanels();
                }
            });
            
            // Responsive grid
            function updateGridForViewport() {
                const width = window.innerWidth;
                if (width < 640) {
                    setGridSize(2);
                    gridSizeSlider.value = 2;
                } else if (width < 1024) {
                    setGridSize(3);
                    gridSizeSlider.value = 3;
                } else {
                    setGridSize(4);
                    gridSizeSlider.value = 4;
                }
            }
            
            window.addEventListener('resize', debounce(updateGridForViewport, 200));
            updateGridForViewport();
        }
        
        // Start the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
